# Руководство по API для авторизации по номеру телефона
### Этот API предоставляет возможность авторизации пользователей по номеру телефона с использованием кода подтверждения. Последовательность действий включает отправку кода подтверждения, ввод кода пользователем, проверку и запись нового пользователя в базу данных (при необходимости), а также возможность ввода инвайт-кода и получение профиля пользователя с информацией о тех, кто использовал его инвайт-код.

# Эндпоинты API
1. Отправка кода подтверждения
- URL: /users/
- Метод: POST
- Параметры запроса:
phone_number: Номер телефона пользователя.
- Описание: Этот запрос отправляет пользователю код подтверждения на указанный номер телефона, а также записывает его в базу данных, если он новый. 
2. Проверка кода подтверждения и авторизация
- URL: /users/token/
- Метод: POST
- Параметры запроса:
- code: Код подтверждения, полученный по SMS.
- Описание: Этот запрос проверяет введенный пользователем код подтверждения и авторизует пользователя
3. Профиль пользователя
- URL: /users/<int:pk>/
- Метод: GET
- Описание: Этот запрос возвращает профиль текущего пользователя, включая информацию о его инвайт-коде и списках пользователей, которые использовали его инвайт-код.
4. Ввод инвайт-кода
- URL: /users/activate_invite/
- Метод: POST
- Параметры запроса:
- invite_code: Инвайт-код, введенный пользователем.
- Описание: Этот запрос позволяет пользователю ввести инвайт-код. Если пользователь уже активировал инвайт-код, он будет отображен в его профиле.

### Зависимости
- Python (версия ^3.11)
- Django (версия ^5.0.4)
- Django REST Framework (версия ^3.15.1)
- Python-dotenv (версия ^1.0.1)
- Django-phonenumber-field (версия ^7.3.0)
- Phonenumbers (версия ^8.13.35)
- Django REST Framework Simple JWT (версия ^5.3.1)
- drf-yasg (версия ^1.21.7) - не реализовано (установлено)
- Pytest (версия ^8.1.1) - не реализовано (установлено)
- Coverage (версия ^7.4.4) - не реализовано (установлено)
- Psycopg2 (версия ^2.9.9)
- Celery (версия ^5.4.0)
- Redis, Docker

## Использование
В проекте созданы файлы для для создания Docker контейнера (для локального тестирования).
Чтобы запустить приложение в контейнере необходимо:
+ Запустить docker
+ Прописать docker-compose up --build
+ Ниже оставляю ссылку на файлик с скриншотами и описанием эндпоинтов
+ https://docs.google.com/document/d/1C-ONxNohFGXtHhfPkND_G4xwDsbfl78wYsfhI3Cx-gU/edit?usp=sharing

+ в основной папке проекта перед запуском необходимо создать .env файл со следующим содержимым:

DB_ENGINE=django.db.backends.postgresql
DB_NAME=postgres
DB_USER=postgres
DB_PASSWORD=secretkey
DB_HOST=db
DB_PORT=5432

DJANGO_KEY=django-key
